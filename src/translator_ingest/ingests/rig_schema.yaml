id: https://w3id.org/biolink/reference-ingest-guide
name: reference_ingest_guide
title: Biolink Reference Ingest Guide Schema
description: A schema for describing the scope, rationale, and modeling approach for ingesting content from a single source.
license: https://creativecommons.org/publicdomain/zero/1.0/
prefixes:
  linkml: https://w3id.org/linkml/
  biolink: https://w3id.org/biolink/vocab/
  translator: https://w3id.org/translator/
default_prefix: biolink
default_range: string

imports:
  - linkml:types

classes:
  ReferenceIngestGuide:
	description: >-
	  A container that holds attributes for the discrete sections of information comprising
	  a Reference Ingest Guide.
    attributes:
	  name: 
	    description: A human readable name for the RIG
        range: string
      source_info:
        description: >-
		  Information about the source from which content is ingested. 
		range: SourceInfo
        required: true
      ingest_info:
        description: >-
		  Information about the rationale and scope of an ingest, including what source
	      content was included and excluded from the ingest, and what additional content
	      might be considered in future iterations. 
		range: IngestInfo
        required: true
      target_info:
        description: >-
	      Information about the dataset / knowledge graph output by the ingest, 
	      including what types of edges and nodes were produced, modeling rationale, 
		  and what modeling changes might be considered in future iterations. 
		range: TargetInfo
        required: true
      provenance_info:
	    description: >-
		  Information about the provenance of the ingest, including who contributed and how,
	      and links to external provenance-related artifacts (e.g. Github tickets,  ingest
	      surveys, etc. 
        range: ProvenanceInfo
        
  SourceInfo:
    description: A container for capturing information about the source of the ingest. 
    attributes:
      infores_id:
		description: >-
		  The infores identifier of the source from which content is being ingested,
		  e.g. "infores:ctd". 
        range: UriOrCurie
        required: true
      description:
	    description: >-
		  A short description of the source, focused on info relevant to its ingest
		  into the target system. May include links to source pages with more information
         (e.g. documentation about the data and how to understand/use it).
        range: string
      citations:
	    description: >-
	      One ore more citations to publications describing the source. May be a identifier
	      (e.g a pmid or doi), a url to the published document, or a free-text citation. 
        range: string      
      terms_of_use:
	    description: >-
		  Information about conditions for use of the ingested source. May be the
		  name of a community license (e.g. `CC-BY 4.0`), a link to a "terms of use"
		  or license information web page (e.g. `https://ctdbase.org/about/legal.jsp`), or
	      a free-text summary of key terms of use.
        range: string
        required: true
      data_access_locations:
	    description: >-
		  Where the source data that is being ingested can be accessed. Provide one or more URLs, 
	      along with optional descriptions of what each URL provides. 
        range: string
        multivalued: true
      data_provision_mechanisms:
	    description: >-
		  How the source distributes their data (file download, API endpoints, database dump). 
        range: ProvisionMechanismEnum
        multivalued: true
      data_formats:
	    description: >-
		  The format(s) in which the data is serialized for retrieval and use.
        range: DataFormatEnum
        multivalued: true
      data_versioning_and_releases:
	    description: >-
		  A description of how releases are versioned and managed by the source (e.g. general
		  approach, frequency, other important considerations). May also include links to web pages
		  describing such information. 
		range: string
        multivalued: false
      additional_notes:
        range: string
        
  IngestInfo:
    description: >-
      A container for capturing information about the rationale and scope of an ingest,
	  including what source content was included and excluded from the ingest, and what
	  additional content might be considered in future iterations. 
    attributes:
      ingest_categories:
	    description: >- 
		  A term or terms indicating the type of source being ingested, from the perspective
		  of the ingesting system (e.g. primary knowledge provider, supporting data provider,
	      ontology/terminology provider).
        range: IngestCategoryEnum
        multivalued: true
      utility:
	    description: >-
		  Brief description of why the source was ingested, and the utility of the data
		  it provides for target system use cases. 
        range: string
        required: true
      scope:
	    description: >-
		  A short, high-level narrative describing of the types of knowledge form the source that
		  are included and excluded in this ingest.
        range: string
      relevant_files:
	    description: >-
		  A description of each source file (or API endpoint, database, or table) that contains
		  content in scope for the ingest. Source files containing which content is not retrieved 
	      in this ingest need not be listed or described. 
        range: RelevantFiles
        multivalued: true
        required: true		
      included_content:
	    description: >-
		  A description of what types of records from relevant files/endpoints/tables above are
		  included in this ingest, and optionally a list of fields from these records that are part
		  of the ingest or used to inform it.
        range: IncludedContent
        multivalued: true
      filtered_content:
	    description: >-
		 A description of what types of records from each relevant file are not included in the
		 ingest, and the rationale for any filtering rules or exclusion criteria. Only list a file
         if some but not all records it contains are included in the ingest - to document what subset
		 was excluded, and why. 
        range: FilteredContent
        multivalued: true		
      future_considerations:
	    description: >-
		  Notes about content additions or changes to consider in future iterations of this ingest.
		  Separately consider content that will be represented as Edges vs Node Properties vs Edge
	      Properties in the target knowledge graph. 
        range: FutureContentConsiderations
        multivalued: true	
      additional_notes:
	    description: >-
		  Additional notes, considerations or resources relevant to source content ingest, that were not
		  otherwise captured in dedicated attributes.
        range: string
		
  RelevantFiles:
    description: >-
      A structure for describing each source file (or API endpoint, database, or table) that contains
      content in scope for the ingest. Source files containing which content is not retrieved 
	  in this ingest need not be listed or described. 
    attributes:
      file_name:
	    description: The name of the relevant file (or endpoint, or table).
        range: string
        required: true
      location:
	    description: The URL of a web page or ftp site where the indicated file (or endpoint or table) was accessed.
        range: UriOrCurie
        required: true
      description:
	    description: An optional brief description of the content and/or utility of the file (or endpoint or table)
        range: string
        
  IncludedContent:
    description: >-
	  A structure for describing the types of records from relevant files/endpoints/tables are
      included in this ingest, and optionally a list of fields from these records that are part
	  of the ingest or used to inform it.
    attributes:
      file_name:
	    description: The name of the relevant file (or endpoint, or table) from which content is included.
        range: string
        required: true
      included_records:
	    description: A description of the types of records that are included in the ingest. 
        range: string
        required: true
      fields_used:
	    description: Optional list of the specific source fields that are part of or inform the ingest.
        range: string
        
  FilteredContent:
    description: >-
	  A structure for describing the types of records from each relevant file/endpoint/table not included
      in the ingest, and the rationale for any filtering rules or exclusion criteria. Only list a file
      if some but not all records it contains are included in the ingest - to document what subset was excluded,
	  and why. 
    attributes:
      file_name:
	    description: The name of the relevant file (or endpoint, or table) form which content was filtered.
        range: string
        required: true
      filtered_records:
	    description: A description of what types of records were excluded from the ingest, in terms of filtering
	      rules or exclusion criteria.
        range: string
        required: true
      rationale:
	    description: The rationale for excluding the indicated content (why this subset of records was filtered out). 
        range: string
        required: true

  FutureContentConsiderations:
    description: >-
	  A structure for collecting notes about content additions or changes to consider in future iterations
      of this ingest. Create separate objects for each distinct consideration, and indicate if it relates to 
      content that will be captured as Edges, Node Properties, or Edge Properties in the target knowledge graph.
    attributes:
      category:
	    description: The category of content described by a given consideration, based on how the content
		will be represented in the target graph (e.g. "Edges", 'Node Properties", "Edge Properties").
        range: ContentCategoryEnum
        required: true
      description:
	    description: A description of what additional content should be considered and why. 
        range: string
        required: true
      relevant_files:
	    description: A list of the relevant source file or files that provide the considered content. 
        range: string

  TargetInfo:
    description: >-
	  A sturcture for capturing information about the target dataset / knowledge graph
	  output by the ingest, including what types of edges and nodes were produced,
	  modeling rationale, and what modeling changes might be considered in future iterations.
    attributes:
      infores_id:
	    description: >-
	      An infores identifier assigned to the target resource that will be created from the
	      ingested content.
        range: UriOrCurie
      edge_types:
	    description: >-
	      A description of each type of edge (metaedge) created in the target knowledge graph by this ingest,
	      and what types of edge properties it holds, and a brief explanation of why this modeling pattern
	      was deemed appropriate to represent the source data (to be displayed for end users in a UI system).
        range: EdgeTypesInfo
        required: true
      node_types:
        range: NodeTypesInfo
		description: >-
          A description of each type of node created in the target knowledge graph by this ingest, in terms of
		  the high-level Biolink categor(ies) of nodes produced as assigned by ingestors. 
	      Note however that downstream normalization of node identifiers may result in new/different categories
	      ultimately being assigned.
        required: true
      future_considerations:
        description: >-
		  Notes about mapping/modeling changes to consider in future iterations of this ingest. 
		range: FutureModelingConsiderations
      additional_notes:
	    description: 
	      Additional notes, considerations or resources relevant to mapping or modeling source data
	      to the target model, that were not otherwise captured in dedicated attributes.
        range: string
        

  EdgeTypesInfo:
    description: Edge types for the target data model
    attributes:
      subject_category:
        range: string
        required: true
      predicate:
        range: string
        required: true
      object_category:
        range: string
        required: true
      qualified_predicate:
        range: string
      biolink_qualifier_1:
        range: string
      biolink_qualifier_1_value:
        range: string
      biolink_qualifier_2:
        range: string
      biolink_qualifier_2_value:
        range: string
      biolink_qualifier_3:
        range: string
      biolink_qualifier_3_value:
        range: string
      knowledge_level:
        range: KnowledgeLevelEnum
        required: true
      agent_type:
        range: AgentTypeEnum
        required: true
      edge_properties:
        range: string
        required: true
      ui_explanation:
        range: string
        required: true
      additional_notes:
        range: string
        
  NodeTypesInfo:
    description: Node types for the target data model
    attributes:
      node_categories:
        range: string
        required: true
      source_identifier_types:
        range: string
        required: true
      additional_notes:
        range: string
        
  FutureModelingConsiderations:
    description: Considerations for future model development
    attributes:
      category:
        range: ModelingCategoryEnum
        required: true
      description:
        range: string
        required: true
      relevant_biolink_elements:
        range: string
        
  ProvenanceInfo:
    description: >-
	  A container holding information about the provenance of the ingest, including who
	  contributed and how, and links to external provenance artifacts. 
    attributes:
      contributions:
        range: string
        required: true
      artifacts:
        range: string
	
enums:	
  ProvisionMechanismEnum:
    description: Data provision mechanisms
    permissible_values:
      file_download
      api_endpoint
      database_dump
	  other
	  
  DataFormatEnum:
    description: Data formats for the data
    permissible_values:
      tsv
      xml
      csv
	  json
	  yaml
	  obo
	  protobuff
	  other
	  
  ContentCategoryEnum:
    description: Categories of content for future considerations
    permissible_values:
      edges
      node_properties
      edge_properties
	  other
	  
  KnowledgeLevelEnum:
    description: Knowledge level assigned to edges of this type 
    permissible_values:
      knowledge_assertion
	  logical_entailment
      prediction
	  statistical_association
	  observation
	  not_provided
	  varies
	    description: use when there may be different knowledge level for different instances of this type of edge.
	  
  AgentTypeEnum:
    description: Agent type assigned to edges of this type
    permissible_values:
      manual_agent
      automated_agent
	  computational_model
	  data_analysis_pipeline
	  text_mining_agent
	  image_processing_agent
	  manual_validation_of_ automated_agent
	  not_provided
	  varies
	    description: use when there may be differnt agent type for different instances of this type of edge.
	  
	  
  ModelingCategoryEnum:
    description: Categories of future modeling considerations
    permissible_values:
      spoq_pattern
      predicates
      qualifiers
      edge_properties
      node_properties
      other

  IngestCategoryEnum:
    description: The type of source being ingested, from the perspective of the ingesting system.
    permissible_values:
      primary_knowledge_provider:
        description: Provides knowledge that is curated/created/mined by the source (e.g. via literature curation/interpretation, analysis of datasets, inference over evidence)
      aggregation_provider:
        description: Aggregates knowledge from external sources and provides as is - with minimal alteration/interpretation of what the primary source reported. (e.g. Monarch, Diseases, Pharos)
      aggregation_interpreter:
        description: Aggregates knowledge and assesses/interprets it as evidence to draw and report its own conclusion (e.g. DGIdb, DisGenNet)
      supporting_data_provider:
        description: Provides information (data or prior facts) that is subsequently analyzed/ interpreted by a Translator tool to derive new knowledge (e.g. TCGA, GTex, Carolina Data Warehouse)
      translator_knowledge_creator:
        description: A Translator tool that generates de novo knowledge from statistical analysis, interpretation, or reasoning with more foundational data/ or facts (e.g. ICEES, COHD, Multiomics Wellness, BigGIM)
      ontology/terminology_provider:
        description: An ontology or terminology artifact providing concept identifiers, definitions, mappings, hierarchical relationships that are ingested into Translator KGs
      node_property_only_provider:
        description: Provides only information that is used to annotate nodes of a particular kind in Translator graphs
      other/unknown:
        description: Used when the information provided by a source is not known, or does not fit into the defined categories above
