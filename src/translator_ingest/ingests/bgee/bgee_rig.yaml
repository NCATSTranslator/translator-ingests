# ReferenceIngestGuide schema based content.
  name:  BGee Ingest Guide

# Information about upstream sources of data that are used by an ingested source to derive the knowledge that we ingest.
  source_info: 
    infores_id: infores:bgee 
    name: 
    description: "Bgee is a database for retrieval and comparison of gene expression patterns across multiple animal species. It provides an intuitive answer to the question 'where is a gene expressed?' and supports research in cancer and agriculture, as well as evolutionary biology."
    citations:   
        - "Frederic B Bastian, Julien Roux, Anne Niknejad, Aurélie Comte, Sara S Fonseca Costa, Tarcisio Mendes de Farias, Sébastien Moretti, Gilles Parmentier, Valentine Rech de Laval, Marta Rosikiewicz, Julien Wollbrett, Amina Echchiki, Angélique Escoriza, Walid H Gharib, Mar Gonzales-Porta, Yohan Jarosz, Balazs Laurenczy, Philippe Moret, Emilie Person, Patrick Roelli, Komal Sanjeev, Mathieu Seppey, Marc Robinson-Rechavi, The Bgee suite: integrated curated expression atlas and comparative transcriptomics in animals, Nucleic Acids Research, Volume 49, Issue D1, 8 January 2021, Pages D831–D847, https://doi.org/10.1093/nar/gkaa793"
    terms_of_use_info: # (required, range = TermsOfUseInfo)
        terms_of_use_url: https://www.bgee.org/about/ 
        terms_of_use_description: You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission. 
        license_name: CC0 # (optional, range = string)
        license_url: https://creativecommons.org/publicdomain/zero/1.0/
    data_formats:  
      - tsv.gz        
    data_provision_mechanisms:  
      - file_download
    data_versioning_and_releases:  v15.0
    
# Information about the Source of the data ingest
  source_info:  # (required, range = SourceInformation)
    infores_id: infores:bgee 
    name:   
    description:  "Bgee is a database for retrieval and comparison of gene expression patterns across multiple animal species. It provides an intuitive answer to the question 'where is a gene expressed?' and supports research in cancer and agriculture, as well as evolutionary biology."
    citations:   
        - "Frederic B Bastian, Julien Roux, Anne Niknejad, Aurélie Comte, Sara S Fonseca Costa, Tarcisio Mendes de Farias, Sébastien Moretti, Gilles Parmentier, Valentine Rech de Laval, Marta Rosikiewicz, Julien Wollbrett, Amina Echchiki, Angélique Escoriza, Walid H Gharib, Mar Gonzales-Porta, Yohan Jarosz, Balazs Laurenczy, Philippe Moret, Emilie Person, Patrick Roelli, Komal Sanjeev, Mathieu Seppey, Marc Robinson-Rechavi, The Bgee suite: integrated curated expression atlas and comparative transcriptomics in animals, Nucleic Acids Research, Volume 49, Issue D1, 8 January 2021, Pages D831–D847, https://doi.org/10.1093/nar/gkaa793"
    terms_of_use_info: # (required, range = TermsOfUseInfo)
        terms_of_use_url: https://www.bgee.org/about/ 
        terms_of_use_description: You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission. 
        license_name: CC0 # (optional, range = string)
        license_url: https://creativecommons.org/publicdomain/zero/1.0/
    data_formats:  
      - tsv.gz        
    data_provision_mechanisms:  
      - file_download
    data_versioning_and_releases:  v15.0
    data_access_locations:  # DANIEL TO DO  (required, multivalued, range = string) Each value should include a url, and optional description of what is provided at that location.
     - 
    additional_notes:  

# Information about Ingested Content (the scope, content, and rationale for what is included and excluded in this ingest)
  ingest_info:  
    ingest_categories:  
      - primary_knowledge_provider
    utility: >- 
      The information provided by Bgee gives us insight into how gene expression is located within specific cell lines and
      anatomical locations across a multitude of organisms.
    scope: >-
      Gene expression in specific UBERON and CL curies. Provides various metrics to help researchers assess veracity of each call.

    relevant_files:  
      - file_name:  Homo_sapiens_expr_simple.tsv.gz
        location:  https://bgee.org/ftp/bgee_v15_0/download/calls/expr_calls
        description:  Homo sapiens (human) gene expression information.
      - file_name:  Rattus_norvegicus_expr_simple.tsv.gz
        location:  https://bgee.org/ftp/bgee_v15_0/download/calls/expr_calls
        description:  Rattus norvegicus (brown rat) gene expression information.
      - file_name:  Mus_musculus_expr_simple.tsv.gz
        location:  https://bgee.org/ftp/bgee_v15_0/download/calls/expr_calls
        description:  Mus musculus (house mouse) gene expression information.
    included_content:  
      - file_name:  Homo_sapiens_expr_simple.tsv.gz
        included_records:  
        fields_used: GeneID, Genename, AnatomicalentityID, Anatomicalentityname, Expression, Callquality, FDR, Expressionscore, Expressionrank  
      - file_name:  Rattus_norvegicus_expr_simple.tsv.gz
        included_records:  
        fields_used: GeneID, Genename, AnatomicalentityID, Anatomicalentityname, Expression, Callquality, FDR, Expressionscore, Expressionrank  
      - file_name:  Mus_musculus_expr_simple.tsv.gz
        included_records:  
        fields_used: GeneID, Genename, AnatomicalentityID, Anatomicalentityname, Expression, Callquality, FDR, Expressionscore, Expressionrank  

    filtered_content: 
      - file_name:  Homo_sapiens_expr_simple.tsv.gz
        filtered_records: "'Expression rank' >= 10,000 OR 'Expression score' <= 70 OR 'FDR' >= 0.05 OR 'Expression' == \"absent\""
        rationale: We are specifically targeting gene expression calls which are strongly signaled and highly probable. Any calls which have a low score or are potentially spurious are filtered. 
      - file_name:  Rattus_norvegicus_expr_simple.tsv.gz
        filtered_records: "'Expression rank' >= 10,000 OR 'Expression score' <= 70 OR 'FDR' >= 0.05 OR 'Expression' == \"absent\""
        rationale: We are specifically targeting gene expression calls which are strongly signaled and highly probable. Any calls which have a low score or are potentially spurious are filtered.
      - file_name:  Mus_musculus_expr_simple.tsv.gz
        filtered_records: "'Expression rank' >= 10,000 OR 'Expression score' <= 70 OR 'FDR' >= 0.05 OR 'Expression' == \"absent\""
        rationale: We are specifically targeting gene expression calls which are strongly signaled and highly probable. Any calls which have a low score or are potentially spurious are filtered.  

    future_considerations:  
      - category:  edge_content
        consideration:  Filter some organisms which are already filtered by Monarch. In general, explore prior Monarch ingest of this source to see what we can learn/borrow. And reach out to F. Bastian to get a better undrestanding of the source and its utility for Translator use cases. 
        relevant_files:  Caenorhabditis_elegans_expr_simple.tsv.gz, Danio_rerio_expr_simple.tsv.gz, Drosophila_melanogaster_expr_simple.tsv.gz, Mus_musculus_expr_simple.tsv.gz, Rattus_norvegicus_expr_simple.tsv.gz, Xenopus_laevis_expr_simple.tsv.gz
      - category: edge_content
        consideration: Add in more model organisms. [Danio_rerio_expr_simple.tsv.gz Danio rerio (zebra fish), Xenopus_laevis_expr_simple.tsv.gz Xenopus laevis (African clawed frog), Drosophila_melanogaster_expr_simple.tsv.gz Drosophila melanogaster (fruit fly), Caenorhabditis_elegans_expr_simple.tsv.gz Caenorhabditis elegans (roundworm), Canis_lupus_familiaris_expr_simple.tsv.gz Canis lupus familiaris (dog), Bos_taurus_expr_simple.tsv.gz Bos taurus (cattle), Sus_scrofa_expr_simple.tsv.gz Sus scrofa (wild boar), Gallus_gallus_expr_simple.tsv.gz Gallus gallus (red junglefowl)].
        relevant_files: Danio_rerio_expr_simple.tsv.gz, Xenopus_laevis_expr_simple.tsv.gz, Drosophila_melanogaster_expr_simple.tsv.gz, Caenorhabditis_elegans_expr_simple.tsv.gz, Canis_lupus_familiaris_expr_simple.tsv.gz, Bos_taurus_expr_simple.tsv.gz, Sus_scrofa_expr_simple.tsv.gz, Gallus_gallus_expr_simple.tsv.gz
      - category: edge_content
        consideration: Add qualifying developmental stage information.
        relevant_files: all
      - category: edge_content
        consideration: Add edges describing over/under expression of genes in specific tissues.  And info indicating when a gene is ubiquitously expressed.  
        relevant_files: all
      - category:  edge_properties
        consideration: Add in incorporation of Expressionrank, Expressionscore, and FDR as edge properties.   
        relevant_files: all
      - category:  edge_content
        consideration: Learn about meaning/utility of scores, and consider applying filters to focus on subset that is most meaningful/useful for Translator.   
        relevant_files: all      
 
# Information about the Graph Output by the ingest
  target_info:  
    infores_id:  infores:translator-bgee-kgx
    edge_type_info: 
      - subject_categories: 
          - biolink:Gene
        predicates: 
          - predicate: biolink:expressed_in
        object_categories:
          - biolink:AnatomicalEntity
          - biolink:Cell
          - biolink:GrossAnatomicalStructure
        knowledge_level:  
          - knowledge_assertion
        agent_type:
          - automated_agent
        primary_knowledge_sources:
          - infores:bgee
        edge_properties: 
          - FDR
          - Expressionrank
          - Expressionscore
        ui_explanation: "Bgee data provide Gene–Tissue/Stage expression assertions generated by uniformly reprocessing healthy RNA-Seq, microarray, EST, and in situ hybridization datasets, applying statistical thresholds to call expression presence/absence within experiments, and integrating evidence across studies and data types - followed by ontology-based propagation - to produce a single consensus expression call with an associated confidence level."   # Placeholder
        source_files:
          - Homo_sapiens_expr_simple.tsv.gz
          - Rattus_norvegicus_expr_simple.tsv.gz
          - Mus_musculus_expr_simple.tsv.gz
        additional_notes: "BGee edges included incdicate a strong association between a specific gene expression and a given anatomical region in an organism."

    node_type_info:  
      - node_category: biolink:Gene  
        source_identifier_types: 
          - "ENSEMBL"
      - node_category: biolink:Cell  
        source_identifier_types:  
          - "CL"
      - node_category: biolink:AnatomicalEntity 
        source_identifier_types:
          - "UBERON"
      - node_category: biolink:GrossAnatomicalStructure
        source_identifier_types:
          - "UBERON"


# Information about how the ingest was specified and performed
  provenance_info: 
    contributions:  
      - "Daniel korn: code author"
      - "Kevin Schaper: code support"
      - "Evan Morris: code support"
      - "Sierra Moxon: code support"
      - "Matthew Brush: data modeling, domain expertise"
    artifacts:
      - "Ingest Survey: https://docs.google.com/spreadsheets/d/1bx4OSH1_HR69sKXIL1UBbelbUEx8X0b-gZTi8F81ypo/"
      - "Ingest Ticket: https://github.com/NCATSTranslator/Data-Ingest-Coordination-Working-Group/issues/54"
