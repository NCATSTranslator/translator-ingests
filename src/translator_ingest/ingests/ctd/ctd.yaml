name: ctd_chemical_to_disease
metadata: !include './metadata.yaml'

readers:
  chemical_to_disease:
    format: csv
    delimiter: \t
    header_mode: 27
    header_prefix: '#'
    files:
      - ../../../../data/ctd/CTD_chemicals_diseases.tsv.gz
    columns:
      - ChemicalName
      - ChemicalID
      - CasRN
      - DiseaseName
      - DiseaseID
      - DirectEvidence
      - InferenceGeneSymbol
      - InferenceScore
      - OmimIDs
      - PubMedIDs
    filters:
      - inclusion: include
        column: DirectEvidence
        filter_code: eq
        value: therapeutic
  exposure_events:
    format: csv
    delimiter: \t
    header_mode: 26
    header_prefix: '#'
    files:
      - ../../../../data/ctd/CTD_exposure_events.tsv.gz
    columns:
      - exposurestressorname
      - exposurestressorid
      - stressorsourcecategory
      - stressorsourcedetails
      - numberofstressorsamples
      - stressornotes
      - numberofreceptors
      - receptors
      - receptornotes
      - smokingstatus
      - age
      - ageunitsofmeasurement
      - agequalifier
      - sex
      - race
      - methods
      - detectionlimit
      - detectionlimituom
      - detectionfrequency
      - medium
      - exposuremarker
      - exposuremarkerid
      - markerlevel
      - markerunitsofmeasurement
      - markermeasurementstatistic
      - assaynotes
      - studycountries
      - stateorprovince
      - citytownregionarea
      - exposureeventnotes
      - outcomerelationship
      - diseasename
      - diseaseid
      - phenotypename
      - phenotypeid
      - phenotypeactiondegreetype
      - anatomy
      - exposureoutcomenotes
      - reference
      - associatedstudytitles
      - enrollmentstartyear
      - enrollmentendyear
      - studyfactors

transform:

writer:
  node_properties:
    - id
    - name
    - category
  edge_properties:
    - id
    - category
    - subject
    - predicate
    - object
    - publications
# TODO: add this back, if we decide that this repository is itself an aggregator knowledge source...and we give it an infores ID
#    - aggregator_knowledge_source
    - primary_knowledge_source
    - knowledge_level
    - agent_type